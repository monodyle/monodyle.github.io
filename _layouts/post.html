---
layout: content
---

<article class="c-article">
  <header class="c-article__header">
    <time class="c-article__time" datetime="{{ page.date | date_to_xmlschema }}"
      itemprop="datePublished">{{ page.date | date: "%b %-d, %Y" }}</time>
    {% if page.tags %}
    <div class="c-article__tags">
      {% for tag in page.tags %}
        <span class="c-tag">{{ tag }}</span>
      {% endfor %}
    </div>
    {% endif %}
  </header>
  <div class="c-article__main article-body">
    {{ content }}
  </div>
</article>
<div id="gitalk-container"></div>

<style>
  .c-page__header {
    margin-bottom: 1rem
  }
  #gitalk-container {
    margin-top: 10rem
  }
</style>

{% if page.math %}
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    skipTags: ["script", "noscript", "style", "textarea", "code"],
    ignoreClass: "tex2jax_ignore|comment"
  }
});
</script>
{% endif %}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

<script src="/js/emoji.js"></script>
<script src="/js/toc.js"></script>

<script>
(function () {
  const gitalk = new Gitalk({
    clientID: '3191b7420aa217c0923f',
    clientSecret: '213bd3597b8ea6a51c117313f67ff56c52f4afd0',
    repo: 'monodyle.github.io',
    owner: 'monodyle',
    admin: ['monodyle'],
    id: location.pathname,
    distractionFreeMode: false
  })

  gitalk.render('gitalk-container')

  document.querySelectorAll('.caption-image').forEach(i => {
    let image = i.firstElementChild.firstElementChild
    if (image.hasAttribute('alt')) {
      let caption = document.createElement('em')
      caption.appendChild(document.createTextNode(image.attributes.alt.value))
      i.appendChild(caption)
    }
  })

  start_toc_module()

  let iframeResize = () => {
    document.querySelectorAll('.center iframe').forEach(i => {
      if (i.parentElement.offsetWidth < 560)
        i.setAttribute('width', i.parentElement.offsetWidth)
      else
        i.setAttribute('width', 560)
    })
  }

  iframeResize()

  window.addEventListener("resize", iframeResize)
})()
</script>
